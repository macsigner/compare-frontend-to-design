{"mappings":"IAiFAA,EA9EA,MAKIC,YAAYC,GACRC,KAAKC,GAAKF,EACVC,KAAKE,KAAOC,SAASC,cAAcL,EAAGM,QAAQC,qBAC9CN,KAAKE,KAAKK,iBAAiB,SAAUP,KAAKQ,sBAAsBC,KAAKT,OACrEA,KAAKU,aAAeV,KAAKE,KAAKE,cAAc,gBAC5CJ,KAAKW,WAAaX,KAAKE,KAAKE,cAAc,cAC1CJ,KAAKY,MAAQZ,KAAKC,GAAGG,cAAc,wBACnCJ,KAAKa,OAASb,KAAKC,GAAGG,cAAc,yBACpCJ,KAAKc,OAAS,IAAIC,WAElBf,KAAKE,KAAKE,cAAc,WAAWG,iBAAiB,SAAS,KACzDP,KAAKC,GAAGe,UAAUC,OAAO,sBAG7BjB,KAAKE,KAAKE,cAAc,SAASG,iBAAiB,UAAU,KACxDP,KAAKC,GAAGe,UAAUC,OAAO,oBAG7BjB,KAAKE,KAAKE,cAAc,WAAWG,iBAAiB,SAAS,KACzDP,KAAKkB,oBAGTlB,KAAKC,GAAGkB,iBAAiB,0CACpBC,SAAQnB,GAAMA,EAAGM,iBAAiB,QAASP,KAAKqB,mBAAmBZ,KAAKT,SAE7EA,KAAKc,OAAOP,iBAAiB,WAAW,KACpCP,KAAKU,aAAaY,MAAQtB,KAAKc,OAAOS,OAEtCvB,KAAKkB,oBAGTlB,KAAKE,KAAKE,cAAc,kBAAkBG,iBAAiB,UAAWiB,IAClExB,KAAKc,OAAOW,cAAcD,EAAEE,OAAOC,MAAM,OAG7C3B,KAAKkB,iBAQTV,sBAAsBgB,GAClBA,EAAEI,iBAONV,iBACI,IAAIW,EAAiB7B,KAAKU,aAAaY,MAAMQ,QAAU9B,KAAKY,MAAMmB,IAClE/B,KAAKY,MAAMmB,IAAMF,EACjB7B,KAAKU,aAAasB,YAAcH,EAEhC,IAAII,EAAkBjC,KAAKW,WAAWW,MAAMQ,QAAU9B,KAAKa,OAAOkB,IAClE/B,KAAKa,OAAOkB,IAAME,EAClBjC,KAAKW,WAAWqB,YAAcC,EAOlCZ,mBAAmBG,GACf,IAAIU,EAAe,KAAOV,EAAEE,OAAOS,GAC/BC,EAAgBC,SAASb,EAAEE,OAAOJ,OAAS,GAAK,IAEpDtB,KAAKC,GAAGqC,MAAMC,YAAYL,EAAcE,KC3EhDjC,SAASqC,gBAAgBxB,UAAUyB,OAAO,SAC1CtC,SAASqC,gBAAgBxB,UAAU0B,IAAI,MAEvC,IAAI7C,EAAQM,SAASC,cAAc","sources":["src/js/modules/compare.js","src/js/scripts.js"],"sourcesContent":["/**\n * Compare app.\n */\nclass Compare {\n    /**\n     * Construct.\n     * @param el\n     */\n    constructor(el) {\n        this.el = el;\n        this.form = document.querySelector(el.dataset.compareFormSelector);\n        this.form.addEventListener('submit', this._formSubmitDelegation.bind(this));\n        this.designSource = this.form.querySelector('#design-path');\n        this.mainSource = this.form.querySelector('#main-path');\n        this.image = this.el.querySelector('.compare__design img');\n        this.iframe = this.el.querySelector('.compare__main iframe');\n        this.reader = new FileReader();\n\n        this.form.querySelector('#toggle').addEventListener('click', () => {\n            this.el.classList.toggle(\"compare--switch\");\n        })\n\n        this.form.querySelector('#diff').addEventListener(\"change\", () => {\n            this.el.classList.toggle(\"compare--diff\");\n        });\n\n        this.form.querySelector('#update').addEventListener('click', () => {\n            this._updateSources();\n        });\n\n        this.el.querySelectorAll(\"#compare-horizontal, #compare-vertical\")\n            .forEach(el => el.addEventListener('input', this.updateClipPathVars.bind(this)));\n\n        this.reader.addEventListener('loadend', () => {\n            this.designSource.value = this.reader.result;\n\n            this._updateSources();\n        });\n\n        this.form.querySelector('#design-upload').addEventListener('change', (e) => {\n            this.reader.readAsDataURL(e.target.files[0]);\n        });\n\n        this._updateSources();\n    }\n\n    /**\n     * Submit event delegation.\n     * @param e\n     * @private\n     */\n    _formSubmitDelegation(e) {\n        e.preventDefault();\n    }\n\n    /**\n     * Update sources in compare.\n     * @private\n     */\n    _updateSources() {\n        let newImageSource = this.designSource.value.trim() || this.image.src;\n        this.image.src = newImageSource;\n        this.designSource.placeholder = newImageSource;\n\n        let newIframeSource = this.mainSource.value.trim() || this.iframe.src\n        this.iframe.src = newIframeSource;\n        this.mainSource.placeholder = newIframeSource;\n    }\n\n    /**\n     * Update clip path variables.\n     * @param e\n     */\n    updateClipPathVars(e) {\n        let propertyName = \"--\" + e.target.id;\n        let propertyValue = parseInt(e.target.value) / 10 + \"%\";\n\n        this.el.style.setProperty(propertyName, propertyValue);\n    }\n}\n\nexport default Compare;\n","import Compare from './modules/compare';\n\ndocument.documentElement.classList.remove('no-js');\ndocument.documentElement.classList.add('js');\n\nnew Compare(document.querySelector('.compare'));\n"],"names":["$e64e806cba8f6007$export$2e2bcd8739ae039","constructor","el1","this","el","form","document","querySelector","dataset","compareFormSelector","addEventListener","_formSubmitDelegation","bind","designSource","mainSource","image","iframe","reader","FileReader","classList","toggle","_updateSources","querySelectorAll","forEach","updateClipPathVars","value","result","e","readAsDataURL","target","files","preventDefault","newImageSource","trim","src","placeholder","newIframeSource","propertyName","id","propertyValue","parseInt","style","setProperty","documentElement","remove","add"],"version":3,"file":"index.5b93e1f3.js.map"}